<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Voice Quiz â€” Home</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="page-home">
  <!-- Top nav: Home (left), Sets (middle), Stats (right) -->
  <header class="top-bar">
    <div class="profile-container">
      <button class="profile-btn">
        <img src="assets/user.png" alt="Profile" class="profile-icon" />
      </button>

      <div id="profileMenu" class="profile-menu hidden">
        <button id="logoutBtn" class="logout-button">Log Out</button>
      </div>
    </div>

    <nav class="icon-bar">
      <a class="icon-button active" href="home.html" aria-label="Home">
        <i data-lucide="home" class="icon"></i>
      </a>
      <a class="icon-button" href="sets.html" aria-label="Study Sets">
        <i data-lucide="file-text" class="icon"></i>
      </a>
      <a class="icon-button" href="stats.html" aria-label="Stats">
        <i data-lucide="bar-chart-2" class="icon"></i>
      </a>
    </nav>
  </header>

  <main class="home-main">
    <h1 class="app-title">Audibly Active</h1>

    <!-- Waveform -->
    <div class="waveform-container">
      <img src="assets/waveform.png" alt="Audio waveform animation" class="waveform" />
    </div>

    <!-- Buttons -->
    <div class="button-area">
      <p class="recent-label">Recent:</p>
      <a id="recentBtn" class="main-btn recent-btn" href="#"></a>

      <a href="create.html" class="main-btn create-btn">Create New Set</a>
      <a href="sets.html" class="main-btn study-btn">Start Study Session</a>
      <a href="stats.html" class="main-btn progress-btn">View Progress</a>
    </div>
  </main>

  <!-- === Mode chooser modal (same IDs/classes as sets page) === -->
  <div id="modeOverlay" class="mode-overlay hidden" aria-hidden="true">
    <div class="mode-modal" role="dialog" aria-modal="true" aria-labelledby="modeTitle">
      <h2 id="modeTitle" class="mode-title">Start Studying</h2>

      <!-- Row with Normal / Pomodoro / Back -->
      <div class="mode-buttons">
        <button id="modeNormalBtn" class="modal-btn yellow-btn" type="button">Normal</button>

        <button id="modePomodoroBtn" class="modal-btn green-btn pomodoro-btn" type="button">
          Pomodoro
          <span id="pomodoroInfoBtn" class="mode-info-icon" aria-label="What is Pomodoro?">
            <i data-lucide="info"></i>
          </span>
        </button>

        <button id="modeBackBtn" class="modal-btn blue-btn" type="button">Back</button>
      </div>

      <!-- Pomodoro mini-form (hidden by default) -->
      <div id="pomodoroForm" class="hidden">
        <div class="mode-title" style="margin-top:10px">Pomodoro Settings</div>

        <div class="pomodoro-grid">
          <label class="pomodoro-label">
            Study (minutes)
            <input id="workMinutes" class="pomodoro-input" type="number" min="1" max="180" step="1" value="25">
          </label>
          <label class="pomodoro-label">
            Rest (minutes)
            <input id="restMinutes" class="pomodoro-input" type="number" min="1" max="120" step="1" value="5">
          </label>
        </div>

        <div class="mode-buttons" style="margin-top:10px">
          <button id="pomodoroStartBtn" class="modal-btn green-btn" type="button">Start</button>
          <button id="pomodoroBackBtn" class="modal-btn blue-btn" type="button">Back</button>
        </div>
      </div>
      <!-- Pomodoro info modal -->
      <div id="pomodoroInfoModal" class="audio-gate hidden" aria-hidden="true" role="dialog">
        <div class="audio-gate-box">
          <h2 class="audio-gate-title">What is Pomodoro?</h2>
          <p class="audio-gate-text">
            Pomodoro is a focus technique where you study in short, timed blocks
            (for example 25 minutes), followed by a short break (for example 5 minutes).
          </p>
          <p class="audio-gate-text">
            In Pomodoro mode, this app will:
          </p>
          <ul class="audio-gate-text">
            <li>Start a study timer for your work block.</li>
            <li>Automatically switch to a break when time is up.</li>
            <li>Show how many cards you recalled during the work block.</li>
          </ul>

          <button id="pomodoroInfoClose" class="modal-btn green-btn" type="button">
            Got it
          </button>
        </div>
      </div>

    </div>
  </div>

  <script src="home.js" defer></script>
  <script>lucide.createIcons();</script>
</body>

</html>